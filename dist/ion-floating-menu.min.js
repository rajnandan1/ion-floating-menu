!function(){"use strict";function a(){return{restrict:"E",scope:{click:"&?",buttonColor:"@?",buttonClass:"@?",icon:"@?",iconColor:"@?",hasFooter:"=?",isCentered:"=?",text:"@?",textClass:"@?",bottom:"@?"},template:'<ul ng-click="click()" id="floating-button" ng-class="{\'center\': isCentered}" ng-style="{\'bottom\' : \'{{bottom}}\' }"><li ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><a><span ng-if="text" class="label-container"><span class="label" ng-class="textClass" ng-bind="text"></span></span><i class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></a></li></ul>',replace:!1,transclude:!0,controller:b}}function b(a){a.buttonColor=a.buttonColor||"#2AC9AA",a.icon=a.icon||"ion-plus",a.iconColor=a.iconColor||"#fff",a.hasFooter=a.hasFooter||!1,a.isCentered=a.isCentered||!1,a.hasFooter?a.bottom="60px":a.bottom=a.bottom||"20px"}function c(){return{restrict:"E",scope:{menuOpenColor:"@?",menuOpenIcon:"@?",menuOpenIconColor:"@?",menuColor:"@?",menuIcon:"@?",menuIconColor:"@?",hasFooter:"=?",backdrop:"=?",bottom:"@?"},template:'<ul id="floating-menu"  \n                            ng-style="{\'bottom\' : \'{{bottom}}\'}" \n                            ng-class="{\'active\' : isOpen}" \n                            ng-click="open()"><div ng-transclude></div><span><li class="menu-button icon menu-icon" ng-class="icon" ng-style="{\'background-color\' : buttonColor, \'color\': iconColor}"></li></span></ul>',replace:!1,transclude:!0,link:function(a,b,c,d,e){b.find("div").replaceWith(e())},controller:e}}function d(){return{restrict:"E",require:["^ionFloatingMenu"],scope:{click:"&?",icon:"@",iconColor:"@?",buttonColor:"@?",buttonClass:"@?",iconImagePath:"@?",iconImageClass:"@?",text:"@?",textClass:"@?"},template:'<li ng-click="click()" ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><span ng-if="text" class="label-container"><span class="label" ng-class="textClass" ng-bind="text"></span></span><img ng-if="iconImagePath" class="menu-icon" ng-class="iconImageClass" ng-src="{{iconImagePath}}"/><i ng-if="!iconImagePath" class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></li>',replace:!1,controller:f}}function e(a,b,c,d,e){a.isOpen=!1,a.open=function(){a.isOpen=!a.isOpen,a.isOpen?a.setOpen():a.setClose()},document.getElementById("floatingBD")&&document.getElementById("floatingBD").addEventListener("click",function(b){a.setClose(),e(function(){a.isOpen=!1})},!1);var f=null;a.setOpen=function(){a.buttonColor=j,a.icon=k,a.iconColor=l,m&&c.retain(),b.$broadcast("floating-menu:open"),f=d.registerBackButtonAction(function(b){b.preventDefault(),a.setClose(),e(function(){a.isOpen=!1})},101)},a.setClose=function(){a.buttonColor=g,a.icon=h,a.iconColor=i,m&&c.release(),b.$broadcast("floating-menu:close"),f&&f()};var g=a.menuColor||"#2AC9AA",h=a.menuIcon||"ion-plus",i=a.menuIconColor||"#fff",j=a.menuOpenColor||"#2AC9AA",k=a.menuOpenIcon||"ion-minus",l=a.menuOpenIconColor||"#fff",m=a.backdrop||!1;a.setClose(),a.hasFooter=a.hasFooter||!1,a.hasFooter?a.bottom="60px":a.bottom=a.bottom||"20px"}function f(a){a.buttonColor=a.buttonColor||"#2AC9AA",a.iconColor=a.iconColor||"#fff"}function g(a,b,c,d){function h(){f++,1===f&&(e.addClass("visible"),d.$broadcast("backdrop.shown"),c(function(){f>=1&&e.addClass("active")}))}function i(){1===f&&(e.removeClass("active"),d.$broadcast("backdrop.hidden"),b(function(){0===f&&e.removeClass("visible")},400,!1)),f=Math.max(0,f-1)}function j(){return e}var e=angular.element('<div class="backdrop" id="floatingBD" >'),f=0;console.log(f);angular.element(document.querySelector("ion-tabs")).append(e[0]);return{retain:h,release:i,getElement:j,_element:e}}angular.module("ion-floating-menu",[]).directive("ionFloatingButton",a).directive("ionFloatingMenu",c).directive("ionFloatingItem",d).factory("$ionicBackdropIon",g),b.$inject=["$scope"],e.$inject=["$scope","$rootScope","$ionicBackdropIon","$ionicPlatform","$timeout"],f.$inject=["$scope"],g.$inject=["$document","$timeout","$$rAF","$rootScope"]}();